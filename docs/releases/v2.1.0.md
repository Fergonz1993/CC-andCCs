# Release v2.1.0

**Release Date:** January 25, 2026

The v2.1.0 release focuses on test infrastructure, reliability, observability, and developer experience improvements. This release introduces 32 ATOM (Atomic Test & Observability Milestone) features that enhance the robustness and maintainability of the multi-agent coordination system.

---

## Highlights

- **Property-based testing** with Hypothesis for Option C
- **Security scanning** with pip-audit and npm audit
- **Structured JSON logging** for better observability
- **Hybrid orchestrator mode** supporting both sync and async backends
- **Ralph test gate** for continuous development workflows
- **Comprehensive documentation suite**

---

## Installation

### Option A: File-Based Coordination

```bash
git clone https://github.com/your-org/claude-multi-agent.git
cd claude-multi-agent/option-a-file-based

# No installation needed - uses Python standard library
python coordination.py --help
```

### Option B: MCP Server

```bash
cd claude-multi-agent/option-b-mcp-broker
npm install
npm run build

# Add to ~/.claude/mcp.json
```

### Option C: External Orchestrator

```bash
cd claude-multi-agent/option-c-orchestrator
python3 -m venv .venv
source .venv/bin/activate
pip install -e ".[dev]"

orchestrate --help
```

---

## Upgrade Notes from v2.0.0

### Breaking Changes

None. v2.1.0 is fully backward compatible with v2.0.0.

### Configuration Changes

1. **pyproject.toml** - New pytest collection filters added to exclude dataclass test modules
2. **ralph_config.json** - New configuration file for continuous development loop

### Recommended Actions

1. Update your virtual environment:
   ```bash
   cd option-c-orchestrator
   pip install -e ".[dev]"  # Includes new hypothesis dependency
   ```

2. Run security audits:
   ```bash
   # Option C
   pip-audit

   # Option B
   npm audit --omit=dev
   ```

3. Review new hybrid orchestrator modes if using Option C programmatically.

---

## ATOM Features

### P0 - Test Infrastructure (Correctness / Security / Critical Path)

| ID | Feature | Description |
|----|---------|-------------|
| ATOM-001 | Hypothesis property-based testing | Added Hypothesis to Option C dev dependencies with property-based tests for task models, priority bounds, and state transitions |
| ATOM-002 | pip-audit vulnerability scanning | Integrated pip-audit into Option C dev dependencies and ralph test gate |
| ATOM-003 | npm audit for Option B | Added npm audit --omit=dev to ralph test gate for MCP server security scanning |
| ATOM-004 | ts-jest TS151002 fix | Resolved TypeScript warning by configuring isolatedModules in Jest config |
| ATOM-005 | .python-version file | Added pyenv version file to prevent Python version drift across environments |
| ATOM-006 | Hybrid orchestrator mode test | Tests verify correct backend selection based on coordination_dir vs working_directory |
| ATOM-007 | File-based orchestrator persistence | Tests for agents.json and discoveries.json persistence in FileOrchestrator |
| ATOM-008 | Explicit error messages | Clear error messages when coordination files are missing |
| ATOM-009 | AgentConfig unit tests | Tests for AgentConfig defaults and heartbeat thread teardown |
| ATOM-010 | Async orchestrator smoke test | Verifies async orchestrator remains the CLI default |

### P1 - Reliability / Observability / Performance

| ID | Feature | Description |
|----|---------|-------------|
| ATOM-101 | Ralph test gate logging | Test gate results written to .coordination/logs/ralph_test_gate.log |
| ATOM-102 | Coverage reports | pytest and jest coverage reports stored in artifacts/ directory |
| ATOM-103 | Lint/typecheck commands | Added lint and typecheck commands to ralph_config.json |
| ATOM-104 | Task queue metrics | Export task queue size and throughput metrics for monitoring |
| ATOM-105 | Retry/backoff tests | Unit tests for orchestrator retry and exponential backoff policies |
| ATOM-106 | Dependency enforcement tests | Integration tests for task dependency graph enforcement |
| ATOM-107 | Duplicate task ID validation | FileOrchestrator rejects duplicate task IDs |
| ATOM-108 | Schema validation | tasks.json schema validation detects malformed entries on load |
| ATOM-109 | Structured JSON logging | JSON Lines format for orchestrator events with timestamps and correlation IDs |
| ATOM-110 | Performance benchmarks | Benchmarks for task claim/complete cycle latency |
| ATOM-111 | Agent capability matching | Tests for orchestrator routing based on agent capabilities |
| ATOM-112 | JSON export for test results | CLI flag --json-output exports ralph test gate results as JSON |

### P2 - Developer Experience / Cleanup

| ID | Feature | Description |
|----|---------|-------------|
| ATOM-201 | .gitignore updates | Added .codex/ and vercel-agent-skills/ to gitignore |
| ATOM-202 | Hybrid orchestrator docs | README documents coordination_dir vs working_directory behavior |
| ATOM-203 | Quickstart for ralph_loop | Documentation for ralph_config.json and scripts/ralph_loop.py |
| ATOM-204 | CI workflow example | Sample GitHub Actions workflow for ralph test gate |
| ATOM-205 | Lint rules for test warnings | Pytest collection filters for dataclass test modules |
| ATOM-206 | Pre-commit hooks | Optional pre-commit configuration for code formatting |
| ATOM-207 | Property-based testing docs | Documentation for running and extending property tests |
| ATOM-208 | Test catalog regeneration | Dev script to regenerate test catalog markdown |
| ATOM-209 | Coordination cleanup script | Script to clean coordination artifacts (tasks/logs/results) |
| ATOM-210 | Changelog template | Minimal changelog template for v2.1 iterations |

### Documentation Suite

The v2.1.0 release includes a comprehensive documentation suite:

- Architecture Decision Records (ADRs) for key design choices
- OpenAPI specification for REST-like interactions
- User guide with step-by-step workflows
- Developer setup guide for contributors
- Troubleshooting guide for common issues
- Performance tuning guide for optimization
- Security best practices guide
- Migration guide between coordination options
- Code examples and workflow patterns

---

## File Changes Summary

### New Files

```
.python-version
.github/workflows/ralph-test-gate.yml
scripts/clean_coordination.py
docs/adr/*.md
docs/api/*.md
docs/guides/*.md
docs/examples/*.md
docs/reference/*.md
```

### Modified Files

```
claude-multi-agent/option-c-orchestrator/pyproject.toml
claude-multi-agent/option-b-mcp-broker/jest.config.js
claude-multi-agent/README.md
.gitignore
```

---

## Testing

Run the full test suite:

```bash
# Option A
cd option-a-file-based
pytest

# Option B
cd option-b-mcp-broker
npm test

# Option C (includes property-based tests)
cd option-c-orchestrator
pytest -v
pytest tests/test_property_based.py --hypothesis-show-statistics

# Security audits
pip-audit  # Option C
npm audit --omit=dev  # Option B
```

---

## Known Issues

None at this time.

---

## Contributors

Thank you to all contributors who made this release possible.

---

## Links

- [Documentation](../index.md)
- [Changelog](../CHANGELOG.md)
- [Migration Guide](../guides/migration.md)
- [Troubleshooting](../guides/troubleshooting.md)

---

Generated with Claude Code
